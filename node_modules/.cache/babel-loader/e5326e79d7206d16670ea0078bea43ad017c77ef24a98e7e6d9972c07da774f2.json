{"ast":null,"code":"import{useRef,useEffect}from\"react\";export function useVoiceInput(_ref){let{onResult}=_ref;const recognitionRef=useRef(null);useEffect(()=>{if(!('webkitSpeechRecognition'in window))return;const recognition=new window.webkitSpeechRecognition();recognition.continuous=true;recognition.interimResults=false;recognition.lang=\"en-US\";recognition.onresult=event=>{const transcript=Array.from(event.results).map(r=>r[0].transcript).join('');onResult(transcript);};recognitionRef.current=recognition;return()=>recognition&&recognition.stop();},[onResult]);return{start:()=>recognitionRef.current&&recognitionRef.current.start(),stop:()=>recognitionRef.current&&recognitionRef.current.stop()};}","map":{"version":3,"names":["useRef","useEffect","useVoiceInput","_ref","onResult","recognitionRef","window","recognition","webkitSpeechRecognition","continuous","interimResults","lang","onresult","event","transcript","Array","from","results","map","r","join","current","stop","start"],"sources":["C:/joebot/src/hooks/useVoiceInput.js"],"sourcesContent":["import { useRef, useEffect } from \"react\";\r\n\r\nexport function useVoiceInput({ onResult }) {\r\n  const recognitionRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (!('webkitSpeechRecognition' in window)) return;\r\n    const recognition = new window.webkitSpeechRecognition();\r\n    recognition.continuous = true;\r\n    recognition.interimResults = false;\r\n    recognition.lang = \"en-US\";\r\n    recognition.onresult = (event) => {\r\n      const transcript = Array.from(event.results)\r\n        .map(r => r[0].transcript)\r\n        .join('');\r\n      onResult(transcript);\r\n    };\r\n    recognitionRef.current = recognition;\r\n    return () => recognition && recognition.stop();\r\n  }, [onResult]);\r\n\r\n  return {\r\n    start: () => recognitionRef.current && recognitionRef.current.start(),\r\n    stop: () => recognitionRef.current && recognitionRef.current.stop(),\r\n  };\r\n} "],"mappings":"AAAA,OAASA,MAAM,CAAEC,SAAS,KAAQ,OAAO,CAEzC,MAAO,SAAS,CAAAC,aAAaA,CAAAC,IAAA,CAAe,IAAd,CAAEC,QAAS,CAAC,CAAAD,IAAA,CACxC,KAAM,CAAAE,cAAc,CAAGL,MAAM,CAAC,IAAI,CAAC,CAEnCC,SAAS,CAAC,IAAM,CACd,GAAI,EAAE,yBAAyB,EAAI,CAAAK,MAAM,CAAC,CAAE,OAC5C,KAAM,CAAAC,WAAW,CAAG,GAAI,CAAAD,MAAM,CAACE,uBAAuB,CAAC,CAAC,CACxDD,WAAW,CAACE,UAAU,CAAG,IAAI,CAC7BF,WAAW,CAACG,cAAc,CAAG,KAAK,CAClCH,WAAW,CAACI,IAAI,CAAG,OAAO,CAC1BJ,WAAW,CAACK,QAAQ,CAAIC,KAAK,EAAK,CAChC,KAAM,CAAAC,UAAU,CAAGC,KAAK,CAACC,IAAI,CAACH,KAAK,CAACI,OAAO,CAAC,CACzCC,GAAG,CAACC,CAAC,EAAIA,CAAC,CAAC,CAAC,CAAC,CAACL,UAAU,CAAC,CACzBM,IAAI,CAAC,EAAE,CAAC,CACXhB,QAAQ,CAACU,UAAU,CAAC,CACtB,CAAC,CACDT,cAAc,CAACgB,OAAO,CAAGd,WAAW,CACpC,MAAO,IAAMA,WAAW,EAAIA,WAAW,CAACe,IAAI,CAAC,CAAC,CAChD,CAAC,CAAE,CAAClB,QAAQ,CAAC,CAAC,CAEd,MAAO,CACLmB,KAAK,CAAEA,CAAA,GAAMlB,cAAc,CAACgB,OAAO,EAAIhB,cAAc,CAACgB,OAAO,CAACE,KAAK,CAAC,CAAC,CACrED,IAAI,CAAEA,CAAA,GAAMjB,cAAc,CAACgB,OAAO,EAAIhB,cAAc,CAACgB,OAAO,CAACC,IAAI,CAAC,CACpE,CAAC,CACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}